Zdecydowano siê na stworzenie systemu wbudowanego, który spe³ni wymagania przedstawione w \hyperref[sec:analiza]{Sekcji~\ref*{sec:analiza}: Analiza problemu}. W celu zbierania danych potrzebny jest osobny uk³ad, który bêdzie odpowiedzialny za konkretn¹ grupê czujników, dalej zwany jednostk¹ pomiarow¹ (HUB). Pozwala to na wiêksz¹ elastycznoœæ podczas doboru czujników oraz protoko³ów komunikacyjnych. Niweluje to równie¿ problem przesy³u sygna³u z czujników na du¿e odleg³oœci do jednego centralnego urz¹dzenia, zmniejszaj¹c równie¿ iloœæ przewodów w pojeŸdzie. Centralne urz¹dzenie jest dalej zwane g³ównym komputerem pok³adowym. Komputer pok³adowy ma za zadanie zebranie danych, wyœwietlanie ich oraz archiwizacjê. Komunikacja miêdzy jednostkami pomiarowymi, a g³ównym komputerem pok³adowym musi byæ odporna na zak³ócenia, gdy¿ odleg³oœci miêdzy tymi urz¹dzeniami mog¹ byæ znaczne, a dowolnoœæ u³o¿enia przewodów ograniczona przez konstrukcjê pojazdu. Komunikacja musi zapewniæ wszystkim jednostkom pomiarowym czas na wys³anie wiadomoœci, a komputerowi pok³adowemu na archiwizacjê i przesy³ do interfejsu u¿ytkownika. Dlatego komunikacja ta musi byæ szybka i niezawodna. Wybrano do tego celu platformê sprzêtow¹ z wbudowanym kontrolerem magistrali Controller Area Network ($CAN$), który autonomicznie wykonuje czêœæ operacji, odci¹¿aj¹c jednostkê centraln¹. W celu archiwizacji danych u¿yto karty SD, która zapewnia mo¿liwoœæ obs³ugi zarówno przez wbudowany system, jak i przez komputer osobisty. Umo¿liwia równie¿ du¿e prêdkoœci zapisu danych, a dziêki wbudowanemu kontrolerowi dostêpu do pamiêci ($DMA$), odci¹¿a jednostkê centraln¹. Do komunikacji bezprzewodowej wybrano modu³ radiowy XBee, który umo¿liwia komunikacjê na du¿e odleg³oœci, co pozwala utrzymaæ komunikacjê podczas przejazdów pojazdu na d³ugich trasach. Jest obs³ugiwany przez zintegrowany uk³ad $UART$.
\begin  {figure} [h] 
\centering
\includegraphics[width=0.75\textwidth]{figures/model1.JPG}
\caption{Model systemu pomiarowego}
\label{fig:model}
\end {figure}

\subsection{Prototyp}
We wczesnych fazach projektu stworzono prototyp urz¹dzenia, w którym zaimplementowano obs³ugê karty SD przez protokó³ $SPI$. Rozwi¹zanie sprawdza³o siê dla uproszczonej sieci $CAN$, w której obs³uga magistrali by³a jedynym zadaniem procesora. Ramki na magistrali $CAN$ by³y przesy³ane w losowych odstêpach czasowych, bez u¿ycia filtrów akceptacyjnych. Nastêpowa³a wymiana informacji miêdzy jedn¹ jednostk¹ pomiarow¹, a g³ównym komputerem (w obie strony). Kolejny komunikat by³ wysy³any po przetworzeniu poprzedniego. Obs³ugiwano jeden kana³ przetwornika, upraszczaj¹c problem adresowania (istnia³ tylko jeden identyfikator w ca³ej sieci). Projekt ewoluowa³ i zosta³ udoskonalony przybieraj¹c dzisiejsz¹ formê. Planowane s¹ dalsze prace nad optymalizacj¹ jego dzia³ania.